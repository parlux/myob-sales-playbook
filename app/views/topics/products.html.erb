<main>
  <div class="container">
    <div class="row">
    <% @products.each do |product| %>
      <button data-id="<%= product.id %>" data-product="<%= product.name.downcase %>" class="btn-toggle btn-product"><%= product.name %></button>
    <% end %>

    <table>
      <tbody>
        <tr>
          <th>Topic</th>
          <th>Feature</th>
          <th>Description</th>
        </tr>
      <% @description_summaries.each do |description_summary| %>
        <tr>
          <td><%= description_summary[:topic_name] %></td>
          <td><%= description_summary[:feature_name] %></td>
          <% description_summary[:descriptions].each do |description| %>
          <td class="desc <%= description[:product].downcase %>"><%= description[:description] %></td>
          <% end %>
        </tr>
      <% end %>
      </tbody>
    </table>

    <button id="save-topic-states">SAVE</button>
  </div>
</main>

<%= render partial: "footer", locals: { prev_page_link: topics_path, next_page_link: products_path } %>

<style>
  .product-toggle.active { border: 1px solid pink; }
</style>
